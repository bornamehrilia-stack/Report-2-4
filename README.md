# Report-2-4:

---



**موضوع آزمایش:** کنترل هوشمند خروجی از طریق دستورات متنی سریال 

**گردآورندگان:** امین طلوع فکور و ایلیا برنامهر

---

### ۱. هدف آزمایش

آموزش نحوه دریافت و پردازش رشته‌های متنی (Strings) از طریق پورت سریال، مدیریت بافر ورودی و کنترل سخت‌افزار (LED) بر اساس دستورات نوشتاری مستقیم.

### ۲. شرح مختصر مدار

در این پروژه، یک برد **Arduino Uno** به عنوان واحد پردازش مرکزی استفاده شده است. یک LED به پین دیجیتال شماره **۶** متصل گشته و مدار به گونه‌ای برنامه‌ریزی شده است که به جای کاراکترهای تک بایت، کلمات کامل را پردازش کند. کاربر با تایپ عبارت **"ON"** در سریال مانیتور باعث روشن شدن LED و با تایپ عبارت **"OFF"** باعث خاموش شدن آن می‌شود. این روش، پایه طراحی سیستم‌های خانه هوشمند و کنترل تجهیزات با پیامک یا اپلیکیشن است.

### ۳. موارد مورد نیاز

* برد **Arduino Uno** و کابل USB
* یک عدد **LED** 
* یک عدد **مقاومت ۲۲۰ اهم**
* برد بورد و سیم‌های رابط

### ۴. نمایش کد پروژه

```cpp
const int ledPin = 6; // تعریف پین خروجی LED

void setup() {
  pinMode(ledPin, OUTPUT); // تنظیم پین به عنوان خروجی
  Serial.begin(9600);      // راه‌اندازی ارتباط سریال
}

void loop() {
  // بررسی وجود داده در بافر سریال
  if(Serial.available() > 0){
    // خواندن کل رشته متنی تا رسیدن به کاراکتر خط جدید
    String command = Serial.readStringUntil('\n'); 
    
    // تحلیل دستور دریافت شده
    if (command == "ON"){
      digitalWrite(ledPin, HIGH); // روشن کردن LED
    } 
    else if (command == "OFF"){
      digitalWrite(ledPin, LOW);  // خاموش کردن LED
    }
  }
}

```

### ۵. توضیح مختصر کد

* **`Serial.readStringUntil('\n')`**: این تابع بسیار کاربردی است؛ چرا که صبر می‌کند تا تمام حروف یک کلمه دریافت شود و به محض زدن کلید Enter (کاراکتر `\n`)، کل کلمه را یکجا به متغیر `command` می‌دهد.
